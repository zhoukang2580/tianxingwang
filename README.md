# 手机端架构规划
## 登录模块
## 账号管理模块
## 权限模块
### 验证是否登录
### 添加统一的头部信息，如token
## 多语言模块
## 工具
### 通用的方法封装
## 通用api调用
## 公共组件模块
## 插件模块

登录：
  1.用户名、密码，如果输错2次，请求验证码(调用api)，不区分大小写
  2.手机验证码登录,倒计时,如果输错2次，请求验证码
  3.微信登录、钉钉登录
  4.设备登录（用于自动登录）

## 开发阶段，改变localhost:4200为指定的域名地址
  `ng serve --host 域名 --port 端口号 --open` 其中的默认端口号是4200
  例如：
  `ng serve --host dev.app.beeant.com --port 4500 --open`
## 关于路由的简单逻辑
1. 路由跳转，如果有定义这个路由，说明页面存在，或者，如果新增某个风格的页面，路由也是存在的，所以，一旦路由不存在，则跳转到默认路由
2. 路由的路径统一跳转，需要注意格式，每个路由定义的规则是，标准路由名称_style_language，即，标准路由名称定义第一个，后面是不同风格和语言的路由定义
3. 路径统一由AppHelper.getRoutePath(标准模块的路由)
## 模块、页面命名及层级
所有的模块单独一个文件夹
所有的模块下面的功能界面名称用改模块名称做前缀
所有的模块功能界面下面的子页面，名字用杠分割，和功能模块子页面平级，前缀是当前功能子页面的页面名称
比如，account 模块，

--- account
   |----account-password 该页面是account模块下面的修改密码功能页面
   |----account-password-by-sms-code 该页面是account-password的子页面
   
简单理解，就是要前缀一致

## 更新app和热更新的逻辑
`Main.Minor.Patch` --主版本.次版本.热更新版本
记录在config.xml文件内
1. 主版本和次版本不变，就不用更新app
2. (1)的情况下，查看人更新的版本号，检查本地目录是否已经存在，不存在该热更新版本，则下载更新，新增一个目录名称，存放新文件，下次启动后加载新目录的文件

## 更新app过程
1. 到config.xml修改版本号，修改主、次版本号需要重新发布到appstore或者安卓市场，如果修改的是热更版本号，也就是最后一位，则不需要重新发布应用
2. 执行生产环境打包，生产android的apk，用mac打包，生成iphone的app，分别发布到市场
3. 如果不需要发布应用，仅发布热更，则将生成的xxx.xxx.xxx(包名).android.zip放到热更的Android目录下，同理，将生成的xxx.xxx.xxx.ios.zip放到ios的下载目录
4. 最后修改updateList.xml修改对应的配置项。其中的Value=config.xml的版本号，其中的version节点对应Android的apk更新，其内部的hotfix对应热更的www目录。md5的值在编译生成的output目录的xxx.apk路径中很长的一段字符串就是对应的md5