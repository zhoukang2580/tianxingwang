<ion-item (click)='open.checked=!open.checked'>
  <ion-label>
    <h2 class='time'>
      <strong>{{flightSegment?.TakeoffTime?.substring("2018-10-22T".length,"2018-10-22T21:20".length)}}</strong>
      <ion-icon name='airplane' class='non-stop' mode='ios' content='直飞' color='secondary'
        *ngIf='!flightSegment?.IsStop'></ion-icon>
      <ion-text color='secondary' *ngIf='flightSegment?.IsStop'>经停</ion-text>
      <strong class='end-time'
        [attr.addoneday]='addoneday()'>{{flightSegment?.ArrivalTime?.substring("2018-10-22T".length,"2018-10-22T21:20".length)}}</strong>
    </h2>
    <h3 class='airports'>
      <ion-text text-nowrap color='medium' class="from-city">
        {{flightSegment?.FromAirportName}}
        <span *ngIf='flightSegment?.FromTerminal'>({{flightSegment?.FromTerminal}})</span>
      </ion-text>

      <ion-text text-nowrap color='medium' class="to-city">
        {{flightSegment?.ToAirportName}} <span *ngIf='flightSegment?.ToTerminal'>
          ({{flightSegment?.ToTerminal}})
        </span>
      </ion-text>
    </h3>
    <h4 class='air'>
      <ion-thumbnail size='small'>
        <ion-img [src]='flightSegment?.AirlineSrc'></ion-img>
      </ion-thumbnail>
      <ion-text text-wrap color='medium'>{{flightSegment?.AirlineName}} {{flightSegment?.Number}}</ion-text>

      <span class='seperator'>|</span>
      <ion-text color='medium'>{{flightSegment?.PlaneType}}</ion-text>
      <ng-container *ngIf='flightSegment?.CodeShareNumber else flytimetemp'>
        <ion-text color='secondary'>&nbsp;共享{{flightSegment?.CodeShareNumber}}</ion-text>
      </ng-container>
      <ng-template #flytimetemp>
        <span class='seperator'>|</span>
        <ion-text color='medium'>{{flightSegment?.FlyTimeName}}</ion-text>
      </ng-template>

    </h4>
  </ion-label>
  <ion-label slot='end' class="price" no-margin no-padding text-center>
    <h2>
      <ion-text class='jiage'>￥{{flightSegment?.LowestFare|flightprice}}</ion-text>
    </h2>
    <h3>
      <ion-icon name="arrow-down" mode='ios' *ngIf='!open.checked'></ion-icon>
      <ion-icon name="arrow-up" mode='ios' *ngIf='open.checked'></ion-icon>
      <input type="checkbox" hidden #open [checked]='false'>
    </h3>
  </ion-label>
</ion-item>
<ion-list class='cabins' *ngIf='open.checked'>
  <ng-container >
    <ion-item *ngFor='let cabin of flightSegment?.Cabins'>
      <ion-label (click)='openrules(cabin)'>
        <h2 class='discount'>
          <ion-text color='dark'>{{cabin?.Type|cabintype}}</ion-text>
          <ion-text color='dark'>{{cabin?.Discount|discount}}
          </ion-text>
        </h2>
        <h2>
          <ion-text color='secondary'>退改签政策详情&nbsp;> </ion-text>
        </h2>
        <h2>余票：{{cabin?.Count}}&nbsp;张</h2>
      </ion-label>
      <ion-label slot='end'>
        <h2 text-end class='book'>
          <ion-text>￥{{cabin?.TicketPrice}}</ion-text>
          <ion-button color='danger' margin-top expand='block' size='small' (click)='onBookTicket(cabin)'>
            <ion-text color='light'>预定</ion-text>
          </ion-button>
        </h2>
      </ion-label>
    </ion-item>
  </ng-container>
</ion-list>