<ion-header>
  <ion-toolbar>
    <ion-buttons slot='start'>
      <app-back-button defaultHref="" color='light'></app-back-button>
    </ion-buttons>
    <ion-buttons slot='end'>
      <ion-button fill='clear' *ngIf='(isShowBookInfos$|async) as num' color='secondary' size='small' (click)='onShowSelectedInfosPage();isCanleave=true'>已选航班
        <ion-badge slot='end' color='danger'>
          <ion-text color='light'>{{num}}</ion-text>
        </ion-badge>
      </ion-button>
      <ion-button fill='clear' *ngIf='isSelf' color='light' size='small' (click)='onShowStandardDesc();'>差旅标准
      </ion-button>
      <ion-button fill='clear' *ngIf='!isSelf' color='light' size='small' (click)='onSelectPassenger()'>添加乘客
        <ion-badge color='danger'>
          <ion-text color='light'>{{selectedPassengers}}</ion-text>
        </ion-badge>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<img src="assets/images/search-flight.png" alt="" class="bgimg">
<ion-content class="cnt">
  <div class="search-img" [class.ios]='isIos' #imgEles>
    <div class="left" (click)='onToggleDomestic(true)'>
      <img src="assets/images/hotel-rect.png" class="left" alt="" *ngIf='isDomestic'>
      <span class="text">国内</span>
    </div>
    <div class="right" (click)='onToggleDomestic(false)'>
      <img src="assets/images/hotel-rect-r.png" class="right" *ngIf='!isDomestic' alt="">
      <span class="text">国际*港澳台</span>
    </div>
  </div>
  <div class="card-wrapper" *ngIf='isDomestic'>
    <ion-card class='ion-padding'>
      <ion-card-content>
        <div class="segments">
          <div class="seg" (click)='segmentChanged("single")' [class.active]='!searchFlightModel.isRoundTrip'>单程</div>
          <div class="seg"></div>
          <div class="seg" (click)='segmentChanged()' [class.active]='searchFlightModel.isRoundTrip'>往返</div>
        </div>
        <ion-buttons class="city">
          <ion-text class="ion-text-wrap city-name ion-text-start" [class.disabled]='disabled' (click)='onSelectCity(true)' color='{{disabled?"medium":"secondary"}}'>
            {{isEn?searchFlightModel?.fromCity?.EnglishName|| searchFlightModel?.fromCity?.Nickname:searchFlightModel?.fromCity?.Nickname}}</ion-text>
          <ion-button color='{{disabled?"medium":"secondary"}}' [disabled]='disabled' (click)='onSwapCity()'>
            <ion-icon name="swap-horizontal-outline" color='{{disabled?"medium":"secondary"}}'>
            </ion-icon>
          </ion-button>
          <ion-text class="ion-text-wrap city-name ion-text-end" [class.disabled]='disabled' (click)='onSelectCity(false)' color='{{disabled?"medium":"secondary"}}'>
            {{isEn?searchFlightModel?.toCity?.EnglishName|| searchFlightModel?.toCity?.Nickname:searchFlightModel?.toCity?.Nickname}}</ion-text>
        </ion-buttons>
        <section class="flight-date">
          <app-search-day-comp [day]='goDate' (click)="onSelecFlyDate(true,false)" [disabled]='disabled'>
          </app-search-day-comp>
          <div *ngIf="">{{ totalFlyDays }}天</div>
          <app-search-day-comp *ngIf="!isSingle" [day]='backDate' (click)="onSelecFlyDate(false,true)">
          </app-search-day-comp>
        </section>
        <div class="btn-search" (click)="searchFlight()" *ngIf='isSelf||(!isSelf&&selectedPassengers>0)'>查询航班</div>
        <div class="btn-search" (click)="onSelectPassenger()" *ngIf='(!isSelf && selectedPassengers==0)'>请添加乘客</div>
      </ion-card-content>
    </ion-card>
  </div>


</ion-content>