<ion-header>
  <ion-toolbar color='primary'>
    <ion-buttons slot='start' class="ion-margin-start" *ngIf='canShow'>
      <app-scan-comp></app-scan-comp>
    </ion-buttons>
    <ion-title class='ion-text-center' appShowtip>
      <ng-container *ngIf='canSelectCompany$|async'>
        <ion-text *ngIf='selectedCompany$|async as company'>{{company}}</ion-text>
      </ng-container>
      <ion-text class="ion-margin-start">欢迎你,{{identity?.Name}}</ion-text>
    </ion-title>
    <ion-buttons slot='end' >
      <ion-button fill='clear' size='small' (click)='onSwitchCustomer()' *ngIf='identity?.Numbers?.AgentId;else selectCompany'>
        <ion-chip color='success'>
          <ion-label>切换客户</ion-label>
        </ion-chip>
      </ion-button>
    </ion-buttons>
    <ng-template #selectCompany>
        <ion-button fill='clear' size='small' (click)='onSwitchCompany()' *ngIf="(canSelectCompany$|async)&&companies?.length>1">
          <ion-chip color='success'>
            <ion-label>切换公司</ion-label>
          </ion-chip>
        </ion-button>
    </ng-template>
  </ion-toolbar>
</ion-header>
<ion-content>

  <div class="img">
    <img src='assets/images/home_top_bg.jpg' />
  </div>
  <ion-toolbar *ngIf="agentNotices.length" class="text-swiper" (click)='goToBulletinList("agentNotice")'>
    <div class="blueBack">
      <ion-slides  class="announcement-container" [options]='options' (ionSlideTouchEnd)='onSlideTouchEnd()'>
        <ion-slide *ngFor='let n of agentNotices'>
          <div class='announcement'>
            <div class="infoIcon">
            <ion-icon name="notifications-outline" color="secondary"></ion-icon>
           </div>
            <div class="text ion-text-start">{{n.text}}</div>
            <div class="infoIcon" slot="end"> 
                <ion-icon name="chevron-forward-outline"></ion-icon>
            </div>
          </div>
        </ion-slide>
      </ion-slides>
    </div>
    <!-- <app-swiper-slides [options]='options' [items]='agentNotices'></app-swiper-slides> -->
  </ion-toolbar>
  <div class="home-padding">
    <ion-list>
      <ion-grid>
        <ion-row wrap>
          <ion-col size="4">
            <div class="item" (click)='goToPage("flight")'>
              <ion-label>
                <!-- <i class="icon icon-home-plane"></i> -->
                <img src="assets/svgs/home-plane.svg" alt="国内机票">
              </ion-label>
              <ion-text>国内机票</ion-text>
            </div>
          </ion-col>
          <ion-col size="4" *ngIf='isShowoverseaHotel'>
            <div class="item" (click)='goToPage("international-flight")'>
              <ion-label>
                <!-- <i class="icon icon-home-plane"></i> -->
                <img src="assets/svgs/home-plane.svg" alt="国际机票">
              </ion-label>
              <ion-text  class="ion-text-nowrap">港澳台*国际机票</ion-text>
            </div>
          </ion-col>
          <ion-col (click)='goToPage("train")' size="4">
              <div class="item">
                <ion-label>
                  <img src="assets/svgs/home-train.svg" alt="火车票">
                  <!-- <i class="icon icon-home-train"></i> -->
                </ion-label>
                <ion-text>火车票</ion-text>
              </div>
            </ion-col>
        </ion-row>
        <ion-row wrap class="ion-padding-top">
          <ion-col (click)='goToPage("hotel")' size="4">
            <div class="item">
              <ion-label>
                <img src="assets/svgs/hotel.svg" alt="酒店" [style.height.em]='3'>
                <!-- <i class="icon icon-hotel"></i> -->
              </ion-label>
              <ion-text>国内酒店</ion-text>
            </div>
          </ion-col>
          <ion-col (click)='goToPage("international-hotel")' size="4" *ngIf='isShowoverseaHotel'>
            <div class="item">
              <ion-label>
                <img src="assets/svgs/hotel.svg" alt="酒店" [style.height.em]='3'>
                <!-- <i class="icon icon-hotel"></i> -->
              </ion-label>
              <ion-text class="ion-text-nowrap">港澳台*海外酒店</ion-text>
            </div>
          </ion-col>
          <ion-col (click)='goToPage("rentalCar")' size="4" *ngIf='isShowRentalCar'>
            <div class="item">
              <ion-label>
                <img src="assets/svgs/home-rentalCar.svg" alt="用车" [style.height.em]='3'>
                <!-- <i class="icon icon-hotel"></i> -->
              </ion-label>
              <ion-text>用车</ion-text>
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-list>
  </div>
  <!-- <app-crop-image-comp></app-crop-image-comp> -->

  <!-- <div margin>
    
    <ion-text>{{ aliPayResult$ | async | json }}</ion-text>
    <ion-button (click)="accountSecurityEn()" expand="block"
      >account-security-en，已经定义</ion-button
    >
    <ion-button (click)="aliPay()" expand="block"
      >跳转到setting-en，当前未定义该页面</ion-button
    >
    <ion-button [routerLink]="['/bind_en']" expand="block"
      >bind-en，当前未定义该页面</ion-button
    >
    <ion-button [routerLink]="['/login_en']" expand="block"
      >login-en，当前未定义该页面</ion-button
    >
    <ion-button (click)="wxPay()" expand="block">微信支付</ion-button>
    <ion-text>{{ wxPayResult$ | async | json }}</ion-text>
  </div> -->
  <!-- <ion-item class='hat' no-padding no-margin lines='none'>
    <ion-thumbnail class='left' (click)='testAction()'>
      <img src='/assets/images/hotel.jpg'>
    </ion-thumbnail>
    <div class='ta'>
      <img src='/assets/images/airplane.jpg'>
      <img src='/assets/images/train.jpg'>
    </div>
  </ion-item> -->
</ion-content>